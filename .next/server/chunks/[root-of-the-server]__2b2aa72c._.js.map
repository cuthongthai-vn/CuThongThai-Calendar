{"version":3,"sources":["turbopack:///[project]/node_modules/dotenv/package.json","../../../node_modules/dotenv/lib/main.js","../../../src/logic_processor.js","../../../src/ai_analyst.js"],"sourcesContent":["{\"name\":\"dotenv\",\"version\":\"16.6.1\",\"description\":\"Loads environment variables from .env file\",\"main\":\"lib/main.js\",\"types\":\"lib/main.d.ts\",\"exports\":{\".\":{\"types\":\"./lib/main.d.ts\",\"require\":\"./lib/main.js\",\"default\":\"./lib/main.js\"},\"./config\":\"./config.js\",\"./config.js\":\"./config.js\",\"./lib/env-options\":\"./lib/env-options.js\",\"./lib/env-options.js\":\"./lib/env-options.js\",\"./lib/cli-options\":\"./lib/cli-options.js\",\"./lib/cli-options.js\":\"./lib/cli-options.js\",\"./package.json\":\"./package.json\"},\"scripts\":{\"dts-check\":\"tsc --project tests/types/tsconfig.json\",\"lint\":\"standard\",\"pretest\":\"npm run lint && npm run dts-check\",\"test\":\"tap run --allow-empty-coverage --disable-coverage --timeout=60000\",\"test:coverage\":\"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov\",\"prerelease\":\"npm test\",\"release\":\"standard-version\"},\"repository\":{\"type\":\"git\",\"url\":\"git://github.com/motdotla/dotenv.git\"},\"homepage\":\"https://github.com/motdotla/dotenv#readme\",\"funding\":\"https://dotenvx.com\",\"keywords\":[\"dotenv\",\"env\",\".env\",\"environment\",\"variables\",\"config\",\"settings\"],\"readmeFilename\":\"README.md\",\"license\":\"BSD-2-Clause\",\"devDependencies\":{\"@types/node\":\"^18.11.3\",\"decache\":\"^4.6.2\",\"sinon\":\"^14.0.1\",\"standard\":\"^17.0.0\",\"standard-version\":\"^9.5.0\",\"tap\":\"^19.2.0\",\"typescript\":\"^4.8.4\"},\"engines\":{\"node\":\">=12\"},\"browser\":{\"fs\":false}}","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\nconst crypto = require('crypto')\nconst packageJson = require('../package.json')\n\nconst version = packageJson.version\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parse src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _parseVault (options) {\n  options = options || {}\n\n  const vaultPath = _vaultPath(options)\n  options.path = vaultPath // parse .env.vault\n  const result = DotenvModule.configDotenv(options)\n  if (!result.parsed) {\n    const err = new Error(`MISSING_DATA: Cannot parse ${vaultPath} for an unknown reason`)\n    err.code = 'MISSING_DATA'\n    throw err\n  }\n\n  // handle scenario for comma separated keys - for use with key rotation\n  // example: DOTENV_KEY=\"dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=prod,dotenv://:key_7890@dotenvx.com/vault/.env.vault?environment=prod\"\n  const keys = _dotenvKey(options).split(',')\n  const length = keys.length\n\n  let decrypted\n  for (let i = 0; i < length; i++) {\n    try {\n      // Get full key\n      const key = keys[i].trim()\n\n      // Get instructions for decrypt\n      const attrs = _instructions(result, key)\n\n      // Decrypt\n      decrypted = DotenvModule.decrypt(attrs.ciphertext, attrs.key)\n\n      break\n    } catch (error) {\n      // last key\n      if (i + 1 >= length) {\n        throw error\n      }\n      // try next key\n    }\n  }\n\n  // Parse decrypted .env string\n  return DotenvModule.parse(decrypted)\n}\n\nfunction _warn (message) {\n  console.log(`[dotenv@${version}][WARN] ${message}`)\n}\n\nfunction _debug (message) {\n  console.log(`[dotenv@${version}][DEBUG] ${message}`)\n}\n\nfunction _log (message) {\n  console.log(`[dotenv@${version}] ${message}`)\n}\n\nfunction _dotenvKey (options) {\n  // prioritize developer directly setting options.DOTENV_KEY\n  if (options && options.DOTENV_KEY && options.DOTENV_KEY.length > 0) {\n    return options.DOTENV_KEY\n  }\n\n  // secondary infra already contains a DOTENV_KEY environment variable\n  if (process.env.DOTENV_KEY && process.env.DOTENV_KEY.length > 0) {\n    return process.env.DOTENV_KEY\n  }\n\n  // fallback to empty string\n  return ''\n}\n\nfunction _instructions (result, dotenvKey) {\n  // Parse DOTENV_KEY. Format is a URI\n  let uri\n  try {\n    uri = new URL(dotenvKey)\n  } catch (error) {\n    if (error.code === 'ERR_INVALID_URL') {\n      const err = new Error('INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    }\n\n    throw error\n  }\n\n  // Get decrypt key\n  const key = uri.password\n  if (!key) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing key part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get environment\n  const environment = uri.searchParams.get('environment')\n  if (!environment) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing environment part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get ciphertext payload\n  const environmentKey = `DOTENV_VAULT_${environment.toUpperCase()}`\n  const ciphertext = result.parsed[environmentKey] // DOTENV_VAULT_PRODUCTION\n  if (!ciphertext) {\n    const err = new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${environmentKey} in your .env.vault file.`)\n    err.code = 'NOT_FOUND_DOTENV_ENVIRONMENT'\n    throw err\n  }\n\n  return { ciphertext, key }\n}\n\nfunction _vaultPath (options) {\n  let possibleVaultPath = null\n\n  if (options && options.path && options.path.length > 0) {\n    if (Array.isArray(options.path)) {\n      for (const filepath of options.path) {\n        if (fs.existsSync(filepath)) {\n          possibleVaultPath = filepath.endsWith('.vault') ? filepath : `${filepath}.vault`\n        }\n      }\n    } else {\n      possibleVaultPath = options.path.endsWith('.vault') ? options.path : `${options.path}.vault`\n    }\n  } else {\n    possibleVaultPath = path.resolve(process.cwd(), '.env.vault')\n  }\n\n  if (fs.existsSync(possibleVaultPath)) {\n    return possibleVaultPath\n  }\n\n  return null\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\nfunction _configVault (options) {\n  const debug = Boolean(options && options.debug)\n  const quiet = options && 'quiet' in options ? options.quiet : true\n\n  if (debug || !quiet) {\n    _log('Loading env from encrypted .env.vault')\n  }\n\n  const parsed = DotenvModule._parseVault(options)\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsed, options)\n\n  return { parsed }\n}\n\nfunction configDotenv (options) {\n  const dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const quiet = options && 'quiet' in options ? options.quiet : true\n\n  if (options && options.encoding) {\n    encoding = options.encoding\n  } else {\n    if (debug) {\n      _debug('No encoding is specified. UTF-8 is used by default')\n    }\n  }\n\n  let optionPaths = [dotenvPath] // default, look for .env\n  if (options && options.path) {\n    if (!Array.isArray(options.path)) {\n      optionPaths = [_resolveHome(options.path)]\n    } else {\n      optionPaths = [] // reset default\n      for (const filepath of options.path) {\n        optionPaths.push(_resolveHome(filepath))\n      }\n    }\n  }\n\n  // Build the parsed data in a temporary object (because we need to return it).  Once we have the final\n  // parsed data, we will combine it with process.env (or options.processEnv if provided).\n  let lastError\n  const parsedAll = {}\n  for (const path of optionPaths) {\n    try {\n      // Specifying an encoding returns a string instead of a buffer\n      const parsed = DotenvModule.parse(fs.readFileSync(path, { encoding }))\n\n      DotenvModule.populate(parsedAll, parsed, options)\n    } catch (e) {\n      if (debug) {\n        _debug(`Failed to load ${path} ${e.message}`)\n      }\n      lastError = e\n    }\n  }\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsedAll, options)\n\n  if (debug || !quiet) {\n    const keysCount = Object.keys(parsedAll).length\n    const shortPaths = []\n    for (const filePath of optionPaths) {\n      try {\n        const relative = path.relative(process.cwd(), filePath)\n        shortPaths.push(relative)\n      } catch (e) {\n        if (debug) {\n          _debug(`Failed to load ${filePath} ${e.message}`)\n        }\n        lastError = e\n      }\n    }\n\n    _log(`injecting env (${keysCount}) from ${shortPaths.join(',')}`)\n  }\n\n  if (lastError) {\n    return { parsed: parsedAll, error: lastError }\n  } else {\n    return { parsed: parsedAll }\n  }\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  // fallback to original dotenv if DOTENV_KEY is not set\n  if (_dotenvKey(options).length === 0) {\n    return DotenvModule.configDotenv(options)\n  }\n\n  const vaultPath = _vaultPath(options)\n\n  // dotenvKey exists but .env.vault file does not exist\n  if (!vaultPath) {\n    _warn(`You set DOTENV_KEY but you are missing a .env.vault file at ${vaultPath}. Did you forget to build it?`)\n\n    return DotenvModule.configDotenv(options)\n  }\n\n  return DotenvModule._configVault(options)\n}\n\nfunction decrypt (encrypted, keyStr) {\n  const key = Buffer.from(keyStr.slice(-64), 'hex')\n  let ciphertext = Buffer.from(encrypted, 'base64')\n\n  const nonce = ciphertext.subarray(0, 12)\n  const authTag = ciphertext.subarray(-16)\n  ciphertext = ciphertext.subarray(12, -16)\n\n  try {\n    const aesgcm = crypto.createDecipheriv('aes-256-gcm', key, nonce)\n    aesgcm.setAuthTag(authTag)\n    return `${aesgcm.update(ciphertext)}${aesgcm.final()}`\n  } catch (error) {\n    const isRange = error instanceof RangeError\n    const invalidKeyLength = error.message === 'Invalid key length'\n    const decryptionFailed = error.message === 'Unsupported state or unable to authenticate data'\n\n    if (isRange || invalidKeyLength) {\n      const err = new Error('INVALID_DOTENV_KEY: It must be 64 characters long (or more)')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    } else if (decryptionFailed) {\n      const err = new Error('DECRYPTION_FAILED: Please check your DOTENV_KEY')\n      err.code = 'DECRYPTION_FAILED'\n      throw err\n    } else {\n      throw error\n    }\n  }\n}\n\n// Populate process.env with parsed values\nfunction populate (processEnv, parsed, options = {}) {\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (typeof parsed !== 'object') {\n    const err = new Error('OBJECT_REQUIRED: Please check the processEnv argument being passed to populate')\n    err.code = 'OBJECT_REQUIRED'\n    throw err\n  }\n\n  // Set process.env\n  for (const key of Object.keys(parsed)) {\n    if (Object.prototype.hasOwnProperty.call(processEnv, key)) {\n      if (override === true) {\n        processEnv[key] = parsed[key]\n      }\n\n      if (debug) {\n        if (override === true) {\n          _debug(`\"${key}\" is already defined and WAS overwritten`)\n        } else {\n          _debug(`\"${key}\" is already defined and was NOT overwritten`)\n        }\n      }\n    } else {\n      processEnv[key] = parsed[key]\n    }\n  }\n}\n\nconst DotenvModule = {\n  configDotenv,\n  _configVault,\n  _parseVault,\n  config,\n  decrypt,\n  parse,\n  populate\n}\n\nmodule.exports.configDotenv = DotenvModule.configDotenv\nmodule.exports._configVault = DotenvModule._configVault\nmodule.exports._parseVault = DotenvModule._parseVault\nmodule.exports.config = DotenvModule.config\nmodule.exports.decrypt = DotenvModule.decrypt\nmodule.exports.parse = DotenvModule.parse\nmodule.exports.populate = DotenvModule.populate\n\nmodule.exports = DotenvModule\n","/**\n * logic_processor.js\n * Core logic for handling economic data comparisons and basic sentiment analysis.\n */\n\n// Utility to clean numeric strings (e.g., \"105.4K\" -> 105.4)\nfunction parseEconomicValue(valueStr) {\n    if (!valueStr || typeof valueStr !== 'string') return null;\n    \n    // Simple parser: remove commas, %, etc. Keep dots and minus.\n    // Enhanced to handle 'K', 'M', 'B' suffixes if necessary, \n    // but usually calendars provide raw numbers or consistent strings.\n    // For now, simple regex stripping.\n    const cleanStr = valueStr.replace(/[^0-9.-]/g, '');\n    const val = parseFloat(cleanStr);\n    return isNaN(val) ? null : val;\n}\n\n/**\n * Compares Actual vs Forecast to determine deviation.\n * @param {Object} event - Event object containing forecast and actual strings.\n * @returns {Object} Result containing deviation info.\n */\nfunction compareEventData(event) {\n    const { event_name, forecast, actual, previous } = event;\n\n    const forecastVal = parseEconomicValue(forecast);\n    const actualVal = parseEconomicValue(actual);\n    const previousVal = parseEconomicValue(previous);\n\n    // If data is missing\n    if (actualVal === null || forecastVal === null) {\n        return {\n            status: \"WAITING_FOR_DATA\",\n            deviation: null,\n            sentiment: \"NEUTRAL\",\n            details: \"Missing forecast or actual data\"\n        };\n    }\n\n    const deviation = actualVal - forecastVal;\n    \n    // Calculate percentage deviation if needed\n    const deviationPercent = forecastVal !== 0 ? (deviation / Math.abs(forecastVal)) * 100 : 0;\n\n    // Determine basic sentiment (This is naive and needs event-specific rules)\n    // E.g., For CPI: Actual > Forecast => Bearish for Stocks/Bullish for Currency (Inflation up)\n    // E.g., For GDP: Actual > Forecast => Bullish for Currency\n    \n    // For now, we return the raw deviation direction\n    let direction = \"EQUAL\";\n    if (deviation > 0) direction = \"HIGHER\";\n    if (deviation < 0) direction = \"LOWER\";\n\n    return {\n        status: \"COMPLETED\",\n        forecast: forecastVal,\n        actual: actualVal,\n        deviation_absolute: deviation,\n        deviation_percent: deviationPercent.toFixed(2) + '%',\n        direction: direction,\n        timestamp: new Date().toISOString()\n    };\n}\n\n/**\n * Generates a prompt for the AI based on the event data.\n */\nfunction generateAIPrompt(event, analysisResult) {\n    return `\n    Analyze the following economic event:\n    Event: ${event.event_name}\n    Currency: ${event.currency}\n    Forecast: ${event.forecast}\n    Actual: ${event.actual}\n    Deviation: ${analysisResult.direction} (${analysisResult.deviation_absolute})\n    \n    Task: Explain the potential impact of this result on:\n    1. The ${event.currency} currency strength.\n    2. The Vietnamese market (VNI index and USD/VND exchange rate).\n    Keep it concise and actionable for a trader.\n    `;\n}\n\nmodule.exports = {\n    parseEconomicValue,\n    compareEventData,\n    generateAIPrompt\n};\n","const { GoogleGenerativeAI } = require(\"@google/generative-ai\");\nrequire('dotenv').config();\n\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\n\n// Priority list of models to try\nconst MODELS_TO_TRY = [\n    \"gemini-2.0-flash\",\n    \"gemini-pro-latest\",\n    \"gemini-1.5-flash\",\n    \"gemini-1.5-flash-001\",\n    \"gemini-pro\",\n    \"gemini-1.0-pro\"\n];\n\nasync function getFinancialCommentary(eventData, deviationData, context = { past: [], future: [] }) {\n\n    // Prepare Prompt Once\n    const pastStr = context.past?.map(e => `- ${e.event_time?.slice(0, 10)}: ${e.event_name} (Act: ${e.actual})`).join('\\n') || \"\";\n    const futureStr = context.future?.map(e => `- ${e.event_time?.slice(0, 10)}: ${e.event_name} (Impact: ${e.impact_level})`).join('\\n') || \"\";\n\n    const prompt = `\n    Vai trò: Cú Thông Thái.\n    SỰ KIỆN: ${eventData.event_name} (Act: ${eventData.actual} / Fcst: ${eventData.forecast})\n    BỐI CẢNH: \n    ${pastStr}\n    ${futureStr}\n    \n    NHIỆM VỤ: Trả về JSON.\n    Sentiment: BULLISH | BEARISH | NEUTRAL.\n    Commentary: Nhận định ngắn dưới 80 từ, giọng điệu Cú Thông Thái (hài hước, bình dân).\n    VN_Impact: Tác động tới VN-Index/Tỷ giá.\n    Translated_Name: Tên sự kiện dịch sang tiếng Việt (ngắn gọn, chuẩn tài chính).\n    \n    OUTPUT JSON:\n    { \"commentary\": \"...\", \"sentiment\": \"...\", \"vn_impact\": \"...\", \"translated_name\": \"...\" }\n    `;\n\n    console.log(`[AI] Starting analysis for ${eventData.event_name}...`);\n\n    let lastError = null;\n\n    // Retry Logic with Model Fallback\n    for (const modelName of MODELS_TO_TRY) {\n        try {\n            console.log(`[AI] Attempting with model: ${modelName}`);\n            const model = genAI.getGenerativeModel({ model: modelName });\n            const result = await model.generateContent(prompt);\n            const text = result.response.text().replace(/```json/g, '').replace(/```/g, '').trim();\n\n            // Try Parse JSON\n            let json;\n            try {\n                json = JSON.parse(text);\n            } catch (e) {\n                console.warn(`[AI] JSON Parse failed for ${modelName}, using raw text.`);\n                json = { commentary: text };\n            }\n\n            console.log(`[AI] Success with ${modelName}`);\n            return {\n                commentary: json.commentary,\n                sentiment: json.sentiment || \"NEUTRAL\",\n                vn_impact: json.vn_impact || json.assessment || \"Chưa có đánh giá chi tiết\",\n                translated_name: json.translated_name\n            };\n\n        } catch (error) {\n            console.warn(`[AI] Failed with ${modelName}: ${error.message}`);\n            lastError = error;\n            // Continue to next model\n        }\n    }\n\n    // If all failed\n    console.error(\"!!! ALL AI MODELS FAILED !!!\", lastError);\n\n    let userMessage = \"Lỗi hệ thống AI (All Models Failed)\";\n    if (lastError?.message?.includes(\"429\") || lastError?.message?.includes(\"Quota\")) {\n        userMessage = \"AI đang quá tải (Rate Limit). Vui lòng đợi 30s rồi thử lại.\";\n    } else if (lastError?.message?.includes(\"404\")) {\n        userMessage = \"Model không khả dụng (404). Kiểm tra lại Region/API Key.\";\n    }\n\n    return {\n        commentary: \"Cú đang mất kết nối vệ tinh...\",\n        sentiment: \"NEUTRAL\",\n        vn_impact: userMessage\n    };\n}\n\nmodule.exports = { getFinancialCommentary };\n"],"names":[],"mappings":"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","ignoreList":[1]}